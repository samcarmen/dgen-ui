import{c as s,j as c,C as u}from"./assets/ChatWidget-Bhw8slNp.js";const r=new Map;function i(t){const n=t.container||"#dgen-chat",e=document.querySelector(n);if(!e){console.warn("[DGENChat] container not found:",n);return}console.log("[DGENChat] Initializing widget with options:",{selector:n,apiBase:t.apiBase,orgId:t.orgId,userId:t.userId});let o=r.get(e);o||(o=s.createRoot(e),r.set(e,o)),o.render(c.jsx(u,{apiBase:t.apiBase,orgId:t.orgId,userId:t.userId}))}function g(){if(typeof document>"u")return;let t=document.currentScript;if((!t||!(t instanceof HTMLScriptElement))&&(t=document.querySelector('script[data-api-base][data-org-id][src*="embed"]')),!t){console.warn("[DGENChat] No script tag found for auto-init");return}const n=t.dataset.apiBase,e=t.dataset.orgId,o=t.dataset.userId,d=t.dataset.container||"#dgen-chat";if(!n||!e){console.warn("[DGENChat] Missing data-api-base or data-org-id on widget script tag");return}const a={apiBase:n,orgId:e,userId:o,container:d};console.log("[DGENChat] autoInitFromCurrentScript with options:",a),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>i(a),{once:!0}):i(a)}typeof window<"u"&&(console.log("[DGENChat] embed script loaded â€“ setting up auto-init"),window.DGENChat={init:i},g());
